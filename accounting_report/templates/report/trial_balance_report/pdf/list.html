{% load mathfilters %}
<tr>
    <td style="padding-left: {{sub_item.depth|add:7}}px;">
   
     <span style="font-size: 12px; font-weight: 600;">{{sub_item.category.name}}</span>

    </td>


    {% if sub_item.ledger_report %}
    <td style="font-size: 12px; font-weight: 600; text-align: right; border-bottom: 0.5px solid black;">
        {% else %}
        <td style="font-size: 12px; font-weight: 400; text-align: right;">
        {% endif %}
        {% if sub_item.opening_in == "Debit" %}
        {{sub_item.opening|floatformat:2}}  Dr.
        {% else %}
        {{sub_item.opening|floatformat:2}}  Cr.
        {% endif %}
    </td>
   
    {% if sub_item.ledger_report %}
    <td style="font-size: 12px; font-weight: 600; text-align: right; border-bottom: 0.5px solid black;">
        {% else %}
        <td style="font-size: 12px; font-weight: 400; text-align: right;">
        {% endif %}
        {{sub_item.dr_total}}
    </td>
    {% if sub_item.ledger_report %}
    <td style="font-size: 12px; font-weight: 600; text-align: right; border-bottom: 0.5px solid black;">
        {% else %}
        <td style="font-size: 12px; font-weight: 400; text-align: right;">
        {% endif %}
        {{sub_item.cr_total}}
    </td>
   
    {% if sub_item.ledger_report %}
    <td style="font-size: 12px; font-weight: 600; text-align: right; border-bottom: 0.5px solid black;">
        {% else %}
        <td style="font-size: 12px; font-weight: 400; text-align: right;">
        {% endif %}
        {% if sub_item.closing_in == "Debit" %}
        {{sub_item.closing|floatformat:2}}  Dr.
        {% else %}
        {{sub_item.closing|floatformat:2}}  Cr.
        {% endif %}
    </td>
   

   
</tr>

{% for ledger in sub_item.ledger_report %}
<tr >

    <td style="font-size: 11px; font-weight: 400; padding-left: {{sub_item.depth|add:14}}px;">
       
           <i> {{ledger.particulars}} </i>
        
    </td>
    <td style="font-size: 11px; font-weight: 400; text-align: right;">&nbsp;</td>
    <td style="font-size: 11px; font-weight: 400; text-align: right;">{{ledger.debit|floatformat:2}}</td>
    <td style="font-size: 11px; font-weight: 400; text-align: right;">{{ledger.credit|floatformat:2}}</td>
    <td style="font-size: 11px; font-weight: 400; text-align: right;">
        {% if ledger.debit|sub:ledger.credit >= 0 %} 
        {{ledger.debit|sub:ledger.credit|floatformat:2}} Dr.   
        {% else %}
        {{ledger.debit|sub:ledger.credit|mul:-1|floatformat:2}} Cr.   
        {% endif %}
    </td>

</tr>
{% endfor %}


{% for sub_item in sub_item.report %}
    {% include 'report/trial_balance_report/list.html' %}
{% endfor %}