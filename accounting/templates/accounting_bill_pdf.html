{% load static %}
{% load custom_tags %}

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Statement of Account PDF</title>
   
    <style>
        body { font-family: sans-serif; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #000; padding: 4px; font-size: 12px; }
        th { background-color: #eaeaea; }
    </style>
</head>
<body>
   
<table style="width: 100%; margin-top: 10px; border: none; border-collapse: collapse;">
    <tr style="border: none;">
        <td style="border: none; width: 30%; vertical-align: top ;margin-top: 5px;padding: 0px; ">
            <img src="{% static 'images/logo.png' %}" alt="Company Logo" style="max-width: 150px; max-height: 80px;">

          
            <p style="margin: 0 0; font-size: 10px;"><strong>To,</strong></p>
            <p style="margin: 0 0; font-size: 10px;"> <strong>{{ party_name }}</strong></p>
            <p style="margin: 0 0; font-size: 10px;"> {{ branch }}</strong></p>
            <p style="margin: 0 0; font-size: 10px;"> {{ address_line_1 }}</p>
            <p style="margin: 0 0; font-size: 10px;"> {{ address_line_2 }}</p>
            <p style="margin: 0 0; font-size: 10px;"> {{ pin_code }}</p>
            <p style="margin: 0 0; font-size: 10px;"> GSTIN NO-{{ gstin_no }}</p>
            <p style="margin: 0 0; font-size: 10px;"><strong>From:</strong> {{ from_date }} <strong>To:</strong> {{ to_date }}</p>



           
        </td>

        <td style="width: 70%; text-align: right; border: none; padding: 0px;">
            <p style=" margin: 0 0;font-size: 10px; "><strong>SCALESOFT TECHNOLOGIES PVT. LTD</strong></p>
            <p style=" margin: 0 0;font-size: 10px; ">office no.15/1060,Vasundhra,Ghaziabad,U.P-201012</p>
            <p style=" margin: 0 0;font-size: 10px; ">India</p>
            <p style=" margin: 0 0;font-size: 10px; ">GSTIN NO-09ABLCS8685C1ZQ</p>
            <p style=" margin: 0 0;font-size: 10px; ">PAN NO-ABLCS8685C</p>
        </td>
    </tr>
</table>
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th style="width: 180px;">Invoice No</th>
                <th>Transaction</th>
                <th  style="width: 120px;">Narration</th>
                <th>Amount</th>
                <th>Payment Received</th>
                <th>Balance</th>
            </tr>
        </thead>
        <tbody>
           

            <tr style="font-weight: bold; background-color: #f4f4f4;">
                <td>-</td>
                <td>-</td>
                <td>Opening Balance</td>
                <td>-</td>
                <td>
                    {% if opening_balance > 0 %}
                        {{ opening_balance }}
                    {% else %}
                        -
                    {% endif %}
                </td>
                <td>
                    {% if opening_balance < 0 %}
                        {{ opening_balance|absolute }}
                    {% else %}
                        -
                    {% endif %}
                </td>
                <td>{{ opening_balance }}</td>
            </tr>
            {% for t in transactions %}
            <tr>
                <td>{{ t.date }}</td>
                <td style="width: 180px;">
                    {% if t.type == 'Sales Invoice' %}
                        {{ t.invoice_no }}
                    {% elif t.type == 'Purchase Invoice' %}
                        {{ t.invoice_no }}
                    {% elif t.type == 'Credit Note' %}
                        {{ t.credit_note_no }}
                    {% elif t.type == 'Debit Note' %}
                        {{ t.debit_note_no }}
                    {% elif t.type|slice:":15" == 'Receipt Voucher' %}
                        {{ t.voucher_no }}
                    {% elif t.type == 'Journal Voucher' %}
                        {{ t.voucher_no }}
                    {% else %}
                        -
                    {% endif %}
                </td>
              
                <td>
                    {% if t.type == "Receipt Voucher" %}
                    {{ t.label }}
                {% else %}
                    {{ t.type }}
                {% endif %}
            </td> 
                <td  style="width: 120px;">{{ t.remark }}</td>
                <td>{% if t.amount > 0 %}{{ t.amount }}{% else %}-{% endif %}</td>
                <td>{% if t.amount < 0 %}{{ t.amount|absolute }}{% else %}-{% endif %}</td>
                <td>{{ t.balance }}</td>
            </tr>
            {% endfor %}
          
            <tr>
                <td colspan="6" align="right"><strong>Balance Due:</strong></td>
                <td><strong>{{ balance_due }}</strong></td>
            </tr>
        </tbody>
    </table>
</body>
</html>
