{% load static %}
{% load mathfilters %}
<html>

<head>
    <title>PDF : Manifest</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style type="text/css">
        * {
            user-select: none;
        }

        span {
            font-size: 12px;
        }

        @page {
            size: auto;
            margin: 5mm;
        }

        @media print {
            #printbtn {
                display: none;
            }

            title {
                display: none;
            }
        }

        table th,
        table table td {
            padding-right: 0 !important;
            padding-bottom: 0 !important;
            padding-top: 0 !important;
            padding-left: 5px !important;
            margin: 0 !important;
        }

        p {
            margin-bottom: 0px !important;
        }

        p small {
            font-size: 11px !important;
        }

        p strong {
            font-size: 11px !important;
        }
        table th,table td {
            font-size: 11px !important;
        }
    </style>

</head>
<!-- <body > -->

<body onload="window.print()">
    <div class="container-fluid my-3">
        <input id="printbtn" class="btn btn-sm btn-danger" type="button" value="Print this page"
            onclick="window.print()">
    </div>

    <div class="container-fluid">
        <table style="display: inline-table;" class="w-100">
            <thead>
                <tr>
                    <th style="position:relative;">
                        <img width="80%" height="100" src="{{ data.company_type.letter_head.url }}" alt="">

                    </th>
                </tr>
            </thead>

            <tbody>



                <tr>
                    <td>
                        <div class="row border  border-bottom-0 border-dark ">


                            <div class="col-3">
                                <span><strong>Customer</strong></span>
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.customer.party_name}}</span>
                                </div>
                                <div>
                                    <span>{{data.customer_address.corp_address_line1}}</span>
                                </div>

                                <div>
                                    <span>{{data.customer_address.corp_address_line2}}</span>
                                </div>

                                <div>
                                    <span>{{data.customer_address.corp_address_line3}}</span>
                                </div>
                                <div>
                                    <span> Tel. : {{data.customer_address.corp_contact}}</span>
                                </div>
                                <div>
                                    <span> Email : {{data.customer_address.corp_email}}</span>
                                </div>

                            </div>

                            <div class="col-3">
                                <div>
                                    <span><strong>Manifest No.</strong></span>
                                </div>
                                <div>
                                    <span><strong>Date</strong></span>
                                </div>
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.manifest_no}}</span>
                                </div>
                                <div>
                                    <span>{{data.manifest_date}}</span>
                                </div>
                            </div>

                        </div>

                        <div class="row border border-top-0 border-bottom-0 border-dark ">


                            <div class="col-3">
                                <span><strong>HBL No.</strong></span>
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.job_no.hbl_no}}</span>
                                </div>
                               

                            </div>

                            <div class="col-3">
                                <div>
                                    <span><strong>Job No.</strong></span>
                                </div>
                              
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.job_no}}</span>
                                </div>
                             
                            </div>


                            <div class="col-3">
                                <span><strong>MBL No.</strong></span>
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.job_no.mbl_no}}</span>
                                </div>
                               

                            </div>

                            <div class="col-3">
                                <div>
                                    <span><strong>Exc. Rate</strong></span>
                                </div>
                              
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.manifest_ex_rate}}</span>
                                </div>
                             
                            </div>

                            <div class="col-3">
                                <span><strong>POL</strong></span>
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.job_no.port_of_loading}}</span>
                                </div>
                               

                            </div>

                            <div class="col-3">
                                <div>
                                    <span><strong>Line</strong></span>
                                </div>
                              
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.job_no.shipping_line}}</span>
                                </div>
                             
                            </div>
                            <div class="col-3">
                                <span><strong>POD</strong></span>
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.job_no.port_of_discharge}}</span>
                                </div>
                               

                            </div>

                            <div class="col-3">
                                <div>
                                    <span><strong>Gross Wt.</strong></span>
                                </div>
                              
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.job_no.gross_weight}}</span>
                                </div>
                             
                            </div>
                            <div class="col-3">
                                <span><strong>Vessel Voy</strong></span>
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.job_no.vessel_voy_name}}</span>
                                </div>
                               

                            </div>

                            <div class="col-3">
                                <div>
                                    <span><strong>Sailing Date</strong></span>
                                </div>
                              
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.job_no.vessel_voy_date}}</span>
                                </div>
                             
                            </div>
                            <div class="col-3">
                                <span><strong>Container No.</strong></span>
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.job_no.container_no}}</span>
                                </div>
                               

                            </div>

                            <div class="col-3">
                                <div>
                                    <span><strong>Volume</strong></span>
                                </div>
                              
                            </div>

                            <div class="col-3">
                                <div>
                                    <span>{{data.job_no.volume}}</span>
                                </div>
                             
                            </div>

                        </div>

                        <div class="row border border-top-0 border-start-0 border-end-0 border-bottom-0 border-dark ">
                            <table class="table-bordered  border-dark table">
                                <tr>
                                    <th colspan="8"><span> Charges To Collect </span></th>
                                </tr>
                                <tr>
                                    <th>Sr.No.</th>
                                    <th style="width:200px;">Particulars</th>
                                    <th style="width:70px;">Qty</th>
                                    <th style="width:50px;">Curr.</th>
                                    <th style="width:100px;">Charges Per Unit</th>
                                    <th style="width:100px;">Ex Rate</th>
                                    <th colspan="2" class="text-center">Total Amount in Currency</th>
                                </tr>
                                {% for i in data.manifest_charges_collect.all %}
                                <tr>

                                    <td>{{forloop.counter}}</td>
                                    <td>{{i.billing_head.billing_head}}</td>
                                    <td>{{i.qty|floatformat:3}}</td>
                                    <td>{{i.curr.short_name}}</td>
                                    <td>{{i.rate|floatformat:2}}</td>
                                    <td>{{i.ex_rate|floatformat:2}}</td>
                                    <td>{{i.curr.short_name}}</td>
                                    <td >{{i.total|floatformat:2}}</td>
                                </tr>
                                {% endfor %}

                                <tr>
                                    <th colspan="7"><span> Total Collect </span></th>
                                    <th>
                                      {{total_collect|floatformat:2}}
                                    </th>
                                </tr>


                                <tr>
                                    <th colspan="8"><span> Charges To Pay </span></th>
                                </tr>

                                {% for i in data.manifest_charges_pay.all %}
                                <tr>

                                    <td>{{forloop.counter}}</td>
                                    <td>{{i.billing_head.billing_head}}</td>
                                    <td>{{i.qty|floatformat:3}}</td>
                                    <td>{{i.curr.short_name}}</td>
                                    <td>{{i.rate|floatformat:2}}</td>
                                    <td>{{i.ex_rate|floatformat:2}}</td>
                                    <td>{{i.curr.short_name}}</td>
                                    <td >{{i.total|floatformat:2}}</td>
                                </tr>
                                {% endfor %}

                                <tr>
                                    <th colspan="7"><span> Total Pay </span></th>
                                    <th>
                                      {{total_pay|floatformat:2}}
                                    </th>
                                </tr>


                                <tr>
                                    <th colspan="8"><span> Our Charges </span></th>
                                </tr>
                               
                                {% for i in data.manifest_our_charges.all %}
                                <tr>

                                    <td>{{forloop.counter}}</td>
                                    <td>{{i.billing_head.billing_head}}</td>
                                    <td>{{i.qty|floatformat:3}}</td>
                                    <td>{{i.curr.short_name}}</td>
                                    <td>{{i.rate|floatformat:2}}</td>
                                    <td>{{i.ex_rate|floatformat:2}}</td>
                                    <td>{{i.curr.short_name}}</td>
                                    <td >{{i.total|floatformat:2}}</td>
                                </tr>
                                {% endfor %}

                                <tr>
                                    <th colspan="7"><span> Total Our Charges </span></th>
                                    <th>
                                      {{total_our_charges|floatformat:2}}
                                    </th>
                                </tr>

                                <tr>
                                    <th colspan="8"><span> Your Charges </span></th>
                                </tr>

                                {% for i in data.manifest_your_charges.all %}
                                <tr>

                                    <td>{{forloop.counter}}</td>
                                    <td>{{i.billing_head.billing_head}}</td>
                                    <td>{{i.qty|floatformat:3}}</td>
                                    <td>{{i.curr.short_name}}</td>
                                    <td>{{i.rate|floatformat:2}}</td>
                                    <td>{{i.ex_rate|floatformat:2}}</td>
                                    <td>{{i.curr.short_name}}</td>
                                    <td >{{i.total|floatformat:2}}</td>
                                </tr>
                                {% endfor %}
                                
                                <tr>
                                    <th colspan="7"><span> Total Your Charges </span></th>
                                    <th>
                                      {{total_your_charges|floatformat:2}}
                                    </th>
                                </tr>

                                <tr>
                                    <th colspan="8">
                                        {% if total_amount < 0 %}
                                        PAYABLE
                                        {% else %}
                                        RECIEVABLE
                                        {% endif %}
                                         {{amount_in_words}} USD
                                    </th>
                                </tr>

                            </table>
                        </div>




                      




                    </td>
                </tr>
            </tbody>

        </table>
    </div>

</body>
<script>
  document.addEventListener('contextmenu', event => event.preventDefault());

</script>

</html>